<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Documentation for batect, the build and testing environments as code tool"><link rel="canonical" href="https://batect.charleskorn.com/Comparison.html"><meta name="author" content="Charles Korn"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="assets/images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Comparison with other tools - batect documentation</title><link rel="stylesheet" href="assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#2196f3"><script src="assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="assets/fonts/material-icons.css"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-63947227-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#comparison-with-other-tools" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://batect.charleskorn.com" title="batect documentation" class="md-header-nav__button md-logo"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">batect documentation</span><span class="md-header-nav__topic">Comparison with other tools</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/charleskorn/batect/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">charleskorn/batect</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://batect.charleskorn.com" title="batect documentation" class="md-nav__button md-logo"><i class="md-icon"></i></a>batect documentation</label><div class="md-nav__source"><a href="https://github.com/charleskorn/batect/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">charleskorn/batect</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="index.html" title="Introduction" class="md-nav__link">Introduction</a></li><li class="md-nav__item"><a href="QuickStart.html" title="Quick start" class="md-nav__link">Quick start</a></li><li class="md-nav__item"><a href="GettingStarted.html" title="Getting started tutorial" class="md-nav__link">Getting started tutorial</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Comparison with other tools</label><a href="Comparison.html" title="Comparison with other tools" class="md-nav__link md-nav__link--active">Comparison with other tools</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#vagrant" title="...Vagrant?" class="md-nav__link">...Vagrant?</a></li><li class="md-nav__item"><a href="#using-shell-scripts-to-drive-docker" title="...using shell scripts to drive Docker?" class="md-nav__link">...using shell scripts to drive Docker?</a></li><li class="md-nav__item"><a href="#docker-compose" title="...Docker Compose?" class="md-nav__link">...Docker Compose?</a></li><li class="md-nav__item"><a href="#ci-tools-with-a-local-runner" title="...CI tools with a local runner?" class="md-nav__link">...CI tools with a local runner?</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5"><label class="md-nav__link" for="nav-5">Configuration file reference</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">Configuration file reference</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="config/Overview.html" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="config/Containers.html" title="Containers" class="md-nav__link">Containers</a></li><li class="md-nav__item"><a href="config/Tasks.html" title="Tasks" class="md-nav__link">Tasks</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6"><label class="md-nav__link" for="nav-6">Language and tool-specific information</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">Language and tool-specific information</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="tools/CircleCI.html" title="CircleCI" class="md-nav__link">CircleCI</a></li><li class="md-nav__item"><a href="tools/Docker.html" title="Docker" class="md-nav__link">Docker</a></li><li class="md-nav__item"><a href="tools/Golang.html" title="Golang" class="md-nav__link">Golang</a></li><li class="md-nav__item"><a href="tools/Java.html" title="Java" class="md-nav__link">Java</a></li><li class="md-nav__item"><a href="tools/Node.html" title="Node.js" class="md-nav__link">Node.js</a></li><li class="md-nav__item"><a href="tools/Ruby.html" title="Ruby" class="md-nav__link">Ruby</a></li><li class="md-nav__item"><a href="tools/TravisCI.html" title="Travis CI" class="md-nav__link">Travis CI</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7"><label class="md-nav__link" for="nav-7">Tips and tricks</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-7">Tips and tricks</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="tips/CISetup.html" title="CI setup" class="md-nav__link">CI setup</a></li><li class="md-nav__item"><a href="tips/IDEIntegration.html" title="IDE integration" class="md-nav__link">IDE integration</a></li><li class="md-nav__item"><a href="tips/Performance.html" title="Performance" class="md-nav__link">Performance</a></li><li class="md-nav__item"><a href="tips/BuildArtifactsOwnedByRoot.html" title="Build artifacts are owned by root" class="md-nav__link">Build artifacts are owned by root</a></li><li class="md-nav__item"><a href="tips/WaitingForDependenciesToBeReady.html" title="Waiting for dependencies to be ready" class="md-nav__link">Waiting for dependencies to be ready</a></li><li class="md-nav__item"><a href="tips/Proxies.html" title="Proxies" class="md-nav__link">Proxies</a></li></ul></nav></li><li class="md-nav__item"><a href="SampleProjects.html" title="Sample projects" class="md-nav__link">Sample projects</a></li><li class="md-nav__item"><a href="https://github.com/charleskorn/batect/releases" title="Release notes" class="md-nav__link">Release notes</a></li><li class="md-nav__item"><a href="https://github.com/charleskorn/batect/blob/master/ROADMAP.md" title="Roadmap" class="md-nav__link">Roadmap</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#vagrant" title="...Vagrant?" class="md-nav__link">...Vagrant?</a></li><li class="md-nav__item"><a href="#using-shell-scripts-to-drive-docker" title="...using shell scripts to drive Docker?" class="md-nav__link">...using shell scripts to drive Docker?</a></li><li class="md-nav__item"><a href="#docker-compose" title="...Docker Compose?" class="md-nav__link">...Docker Compose?</a></li><li class="md-nav__item"><a href="#ci-tools-with-a-local-runner" title="...CI tools with a local runner?" class="md-nav__link">...CI tools with a local runner?</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/charleskorn/batect/edit/master/docs/content/Comparison.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1 id="comparison-with-other-tools">Comparison with other tools<a class="headerlink" href="#comparison-with-other-tools" title="Permanent link">&para;</a></h1>
<div class="admonition question">
<p class="admonition-title">Feedback wanted</p>
<p>Are you wondering about how batect compares to other tools? Do you have your own reasons for or against batect compared
to one of the tools mentioned below?</p>
<p>Please <a href="https://github.com/charleskorn/batect/issues">file an issue</a> with your questions, comments and feedback.</p>
</div>
<p>How does batect compare to...</p>
<h2 id="vagrant">...Vagrant?<a class="headerlink" href="#vagrant" title="Permanent link">&para;</a></h2>
<p>Vagrant's use of virtual machines means that it is very heavyweight, making it difficult to run multiple projects'
environments at once. This is especially problematic on CI servers where we'd like to run multiple builds in parallel.</p>
<p>Furthermore, the long-lived nature of virtual machines means that it's very easy for a developer's machine to get out of sync
with the desired configuration, and nothing automatically re-provisions the machine when the configuration is changed - a
developer has to remember to re-run the provisioning step if the configuration changes.</p>
<h2 id="using-shell-scripts-to-drive-docker">...using shell scripts to drive Docker?<a class="headerlink" href="#using-shell-scripts-to-drive-docker" title="Permanent link">&para;</a></h2>
<p>While it's certainly possible, it quickly gets unwieldy and is difficult to effectively parallelise tasks that can run in parallel.
It is also difficult to ensure that all resources created during the task, such as containers and networks, are always correctly
cleaned up once the task completes, especially if the task fails.</p>
<h2 id="docker-compose">...Docker Compose?<a class="headerlink" href="#docker-compose" title="Permanent link">&para;</a></h2>
<p>In the past, I've used Docker Compose to implement the same idea that is at the core of batect. However, using Docker Compose
for this purpose has a number of drawbacks.</p>
<p>In particular, Docker Compose is geared towards configuring an application and its dependencies and deploying this whole stack
to something like Docker Swarm. Its CLI is designed with this purpose in mind, making it frustrating to use day-to-day as a development
tool and necessitating the use of a higher-level script to automate its usage.</p>
<p>It also does not elegantly support pulling together a set of containers in different configurations (eg. integration vs journey
testing), does each operation serially (instead of parallelising operations where possible) and has
<a href="https://github.com/docker/compose/issues/4369">one long-standing bug</a> that makes waiting for containers to report as healthy
difficult.</p>
<h2 id="ci-tools-with-a-local-runner">...CI tools with a local runner?<a class="headerlink" href="#ci-tools-with-a-local-runner" title="Permanent link">&para;</a></h2>
<p>As an example, both GitLab CI and CircleCI have CLIs that allow you to run your build on your local machine, using the same
containers (and therefore environment) as they do when running your build on the CI server.</p>
<p>These tools have been designed to primarily be great CI servers, with the local CLI intended to be a convenience to allow
developers to test changes to the build configuration, rather than being a day-to-day development tool. batect, on the other hand,
was designed from the beginning to be a great day-to-day development tool that also works equally well on CI.</p>
<p>Specific drawbacks of these tools compared to using batect include:</p>
<ul>
<li>
<p>batect provides a significantly better developer experience, with a simpler, easier to use CLI, clearer and more concise output (with more details
  available when required), and clearer error messages.</p>
<p>One specific example would be the experience when a dependency container fails to become
healthy - batect will not only tell you which container did not become healthy, but also automatically display the output from the last
health check, and also provides the option to not clean up the dependency containers if they fail to allow you to investigate further.</p>
</li>
<li>
<p>batect supports using local Dockerfiles to define the images used, rather than requiring that all images be pushed to a Docker registry.
  This provides a number of benefits:</p>
<ul>
<li>
<p>Additional configuration or installation of software over and above what is included in the base image can be codified in the Dockerfile,
  built once per machine that uses it and then cached, saving time over doing this additional configuration or installation at the beginning
  of each and every build.</p>
</li>
<li>
<p>This also reduces the need to bloat the base image with configuration or software required by only one or two users of the base image,
  reducing their size and improving maintainability.</p>
</li>
<li>
<p>Enabling changes to be made to the build and testing environments in the same repository as the application's code enhances traceability
  and understanding of why changes were made - the code change can form part of the same commit as the environmental change required to
  support it.</p>
</li>
</ul>
</li>
<li>
<p>These tools have only basic support for dependencies in other containers (for example, a database used for integration testing),
  and require the configuration of other tools such as <a href="https://github.com/jwilder/dockerize">Dockerize</a> to ensure that dependencies are ready
  for use before they are used. This does not take advantage of images' built-in health checks and the benefits this mechanism has, such as
  a warm-up period.</p>
<p>Furthermore, this leaves the developer to manually manage transitive dependencies between these containers, and all of the limitations with
regard to the images used for the build environment discussed above apply equally to dependency images.</p>
</li>
<li>
<p>These tools don't provide time-saving functionality such as
  <a href="tips/Proxies.html">automatically configuring proxies at image build time and in the container</a>.</p>
</li>
<li>
<p>As these tools are designed to run the build and only the build in exactly the same way every time, they do not support passing additional
  arguments to the task, making it difficult to change options for tasks that may be helpful during development, such as enabling a debugger
  or more verbose logging.</p>
</li>
<li>
<p>These tools don't support easily mounting the local working copy into the build container, which means they can't be used for tasks that
  rely on detecting changes to code, such as a continuous unit test task.</p>
</li>
<li>
<p>These tools don't have a way to easily codify and share tasks not used in the build but used by developers, such as a task
  that spins up the app with stubbed dependencies.</p>
</li>
</ul></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="GettingStarted.html" title="Getting started tutorial" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Getting started tutorial</span></div></a><a href="config/Overview.html" title="Overview" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Overview</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Copyright &copy; 2017-2019 Charles Korn.</div>powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div><div class="md-footer-social"><link rel="stylesheet" href="assets/fonts/font-awesome.css"> <a href="https://github.com/charleskorn/batect" class="md-footer-social__link fa fa-github"></a>  <a href="https://spectrum.chat/batect" class="md-footer-social__link fa fa-comments"></a> </div></div></div></footer></div><script src="assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:"."}})</script></body></html>